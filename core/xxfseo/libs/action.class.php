<?php 
/* ΙΜµΘνΌώ½ϋΦΉ·΄±ΰλ£¬by Π΅Πύ·ηseo ΝψΦ·£Ίxxfseo.com */
 $ΗαθG['ωνσ§ί¦Νε¬']=array("374737968756f546f6864756d6","4796e696f5","234796e696f5","77569667","9716c607379646","875646e696","e696d64616","9716272716f5e696","769666e6f636","86375707","e69616d6f646","473656c6c6f636","47f626f627","374616","4766968637f59716272716","2756070757f647274737","e4f435a4","275646165686","83d2664757d34756372716863602b3e6f637a6f2e6f69647163696c6070716a356079745d247e65647e6f634","5646f636e656f5e6f637a6","c4d485","83d2664757d34756372716863602b3c6d687f247875647a356079745d247e65647e6f634","5646f636e656f5c6d687","05e4f435a4","2554c444e41484f505e4f435a4f5251465","2554c444e41484f505e4f435a4f545c45514645444","82","b392","c4146554","83d2664757d34756372716863602b3c6d64786f247875647a356079745d247e65647e6f634","430343f5","a3c9db4ed8396e593b6ee9d99e","275677f6c6f647274737","4737f6073796","4756763796","461656863796","564756c656463796","4757073796","274737265737",2,"475676f5","4737f607f5","475707f5","274737f55637271607","3747e65647e6f636f5475676f556c69666","475707e696f2f2a3078607","d616271607f5","4535f405","455505","47375657175627f5","e6f69637375637f5","5696b6f6f636f5","275667275637f5","37c61626f6c676f5","e6f696470756368756f577f6278647","a3","18cbfe8ac95e89da5ed88b4e593b6e9b696e48a97e281b6e7bfa8e",0,1,"255445c49464f545c45514645444","5646f6c6078756","c2","374737968756f5e6f6964736e65766","9716272716f53796","0716d6f59716272716","66e6f634c60747","76e69686361636",false,true,"e627574756258716a616","47e696f53796","e67696373716","46e6f636563547961677","c6275507d657a6","475676","56c64796457637d6","18cbfef9a85e09886ec9db4ed8396e","18cbfe5a4b8e1b4a5ec9db4ed8396e","375747164737","567616373756d6","13","35355434345535f5e4f494453414f5c405d445","27f6272756","33","b39213d282b6361626e29727f647379686a3470796273637166716a6","25f4252554f5e4f494453414f5c405d445"); foreach($ΗαθG['ωνσ§ί¦Νε¬'] as $___k=>$___vo){ gettype($ΗαθG['ωνσ§ί¦Νε¬'][$___k])=='string' && $ΗαθG['ωνσ§ί¦Νε¬'][$___k]=ε‡½rs($___vo); } abstract class action{protected $ΪζηΤ=null; private $έΗΙΪ¥αΖδ¶υ=''; protected $ΓίκΔμέΓ=array(); protected $υθης; public function __construct(){global $ΗαθG;$ΗαθG_ωνσ§ί¦Νε¬_1=$ΗαθG['ωνσ§ί¦Νε¬'][1];$ΗαθG_ωνσ§ί¦Νε¬_2=$ΗαθG['ωνσ§ί¦Νε¬'][2];if($ΗαθG['ωνσ§ί¦Νε¬'][0]($this,Ηαθgs('ωνσ§ί¦Νε¬',1))){$this->$ΗαθG_ωνσ§ί¦Νε¬_1(); } if($ΗαθG['ωνσ§ί¦Νε¬'][0]($this,Ηαθgs('ωνσ§ί¦Νε¬',2))){$this->$ΗαθG_ωνσ§ί¦Νε¬_2(); } } public function view(){if(!isset($this->ΪζηΤ)){$this->ΪζηΤ=new view; } return $this->ΪζηΤ; } public function tplConf($Αγε—='',$ΜΩ­·=null,$υθης=false){global $ΗαθG;$ΗαθG_ωνσ§ί¦Νε¬_3=$ΗαθG['ωνσ§ί¦Νε¬'][3];if($ΜΩ­·===null){if($Αγε—!=''){if($υθης) return $this->view()->υθης->$Αγε—; return $this->$ΗαθG_ωνσ§ί¦Νε¬_3()->ΊΔΠ«¨σΠκ[$Αγε—]; }else{if($υθης) return $this->$ΗαθG_ωνσ§ί¦Νε¬_3()->υθης; return $this->$ΗαθG_ωνσ§ί¦Νε¬_3()->ΊΔΠ«¨σΠκ; } }else{if($υθης){$this->$ΗαθG_ωνσ§ί¦Νε¬_3()->υθης->$Αγε—=$ΜΩ­·; }else{$this->$ΗαθG_ωνσ§ί¦Νε¬_3()->ΊΔΠ«¨σΠκ[$Αγε—]=$ΜΩ­·; } } } protected function getActionName(){if(empty($this->έΗΙΪ¥αΖδ¶υ)){$this->έΗΙΪ¥αΖδ¶υ=substr(get_class($this),0,-6); } return $this->έΗΙΪ¥αΖδ¶υ; } protected function display($±υσςηΚ»Ήκξ='',$ρΰπ=''){global $ΗαθG;$ΗαθG_ωνσ§ί¦Νε¬_3=$ΗαθG['ωνσ§ί¦Νε¬'][3];$ΗαθG_ωνσ§ί¦Νε¬_4=$ΗαθG['ωνσ§ί¦Νε¬'][4];if(GROUP_NAME=='admin' && config('AUTOLOAD_ENCODE')){if(!defined("FILE_VERMD5") || FILE_VERMD5!=md5(config('cms_version').'+'.config('cms_release'))){exit; } } $this->$ΗαθG_ωνσ§ί¦Νε¬_3()->$ΗαθG_ωνσ§ί¦Νε¬_4($±υσςηΚ»Ήκξ,$ρΰπ); if(ACTION_NAME==Ηαθgs('ωνσ§ί¦Νε¬',5) && GROUP_NAME==Ηαθgs('ωνσ§ί¦Νε¬',6) && $ΗαθG['ωνσ§ί¦Νε¬'][7](MODULE_NAME,array(Ηαθgs('ωνσ§ί¦Νε¬',8),Ηαθgs('ωνσ§ί¦Νε¬',9),Ηαθgs('ωνσ§ί¦Νε¬',10),Ηαθgs('ωνσ§ί¦Νε¬',11),Ηαθgs('ωνσ§ί¦Νε¬',12),Ηαθgs('ωνσ§ί¦Νε¬',13)))){$html=φςζ£Ο°ςµ($html); } echo $html; } protected function set_replace_compile($θΘΆωΠ¶,$χ«Τ°Γ){return $this->view()->set_replace_compile($θΘΆωΠ¶,$χ«Τ°Γ); } protected function fetch($±υσςηΚ»Ήκξ=''){return $this->view()->fetch($±υσςηΚ»Ήκξ); } protected function assign($έΗΙΪ¥αΖδ¶υ,$ ½ΠΕ°―ΫΨ¬=''){$this->view()->assign($έΗΙΪ¥αΖδ¶υ,$ ½ΠΕ°―ΫΨ¬); return $this; } public function __set($έΗΙΪ¥αΖδ¶υ,$ ½ΠΕ°―ΫΨ¬){return $this->assign($έΗΙΪ¥αΖδ¶υ,$ ½ΠΕ°―ΫΨ¬); } protected function isCached(){return $this->view()->isCached(); } public function get($έΗΙΪ¥αΖδ¶υ=''){return $this->view()->get($έΗΙΪ¥αΖδ¶υ); } public function __get($έΗΙΪ¥αΖδ¶υ){return $this->get($έΗΙΪ¥αΖδ¶υ); } public function __isset($έΗΙΪ¥αΖδ¶υ){return $this->get($έΗΙΪ¥αΖδ¶υ); } protected function error($§Ω¦―—¥Ρ› ='',$±£Θ΅Εδ='',$—ωΤΔδαΨ²Τ=false){$this->dispatchJump($§Ω¦―—¥Ρ› ,0,$±£Θ΅Εδ,$—ωΤΔδαΨ²Τ); } protected function success($§Ω¦―—¥Ρ› ='',$±£Θ΅Εδ='',$—ωΤΔδαΨ²Τ=false){$this->dispatchJump($§Ω¦―—¥Ρ› ,1,$±£Θ΅Εδ,$—ωΤΔδαΨ²Τ); } protected function ajaxReturn($ΑΝ¶,$¨άΝσΥκΑ='JSON'){global $ΗαθG;if(func_num_args()>2){$©αβΓθβ=func_get_args(); $ΗαθG['ωνσ§ί¦Νε¬'][14]($©αβΓθβ); $χθέαρ=array(); $χθέαρ['data']=$ΑΝ¶; $χθέαρ['info']=$ΗαθG['ωνσ§ί¦Νε¬'][14]($©αβΓθβ); $χθέαρ['status']=$ΗαθG['ωνσ§ί¦Νε¬'][14]($©αβΓθβ); $ΑΝ¶=$χθέαρ; $¨άΝσΥκΑ=$©αβΓθβ?$ΗαθG['ωνσ§ί¦Νε¬'][14]($©αβΓθβ):''; } switch ($ΗαθG['ωνσ§ί¦Νε¬'][15]($¨άΝσΥκΑ)){case Ηαθgs('ωνσ§ί¦Νε¬',16) : $ΗαθG['ωνσ§ί¦Νε¬'][17](Ηαθgs('ωνσ§ί¦Νε¬',18)); exit($ΗαθG['ωνσ§ί¦Νε¬'][19]($ΑΝ¶)); case Ηαθgs('ωνσ§ί¦Νε¬',20) : $ΗαθG['ωνσ§ί¦Νε¬'][17](Ηαθgs('ωνσ§ί¦Νε¬',21)); exit($ΗαθG['ωνσ§ί¦Νε¬'][22]($ΑΝ¶)); case Ηαθgs('ωνσ§ί¦Νε¬',23): $ΗαθG['ωνσ§ί¦Νε¬'][17](Ηαθgs('ωνσ§ί¦Νε¬',18)); $£ΠΔΘά=isset($_GET[C(Ηαθgs('ωνσ§ί¦Νε¬',24))]) ? $_GET[C(Ηαθgs('ωνσ§ί¦Νε¬',24))] : C(Ηαθgs('ωνσ§ί¦Νε¬',25)); exit($£ΠΔΘά.Ηαθgs('ωνσ§ί¦Νε¬',26).$ΗαθG['ωνσ§ί¦Νε¬'][19]($ΑΝ¶).Ηαθgs('ωνσ§ί¦Νε¬',27)); case Ηαθgs('ωνσ§ί¦Νε¬',28) : $ΗαθG['ωνσ§ί¦Νε¬'][17](Ηαθgs('ωνσ§ί¦Νε¬',29)); exit($ΑΝ¶); } } public function __call($σΫυΐΗΐΗ¤½,$©αβΓθβ){global $ΗαθG;if( 0 === strcasecmp($σΫυΐΗΐΗ¤½,ACTION_NAME.config('ACTION_SUFFIX'))){if(method_exists($this,'_empty')){$this->_empty($σΫυΐΗΐΗ¤½,$©αβΓθβ); }else{$ΗαθG['ωνσ§ί¦Νε¬'][30](Ηαθgs('ωνσ§ί¦Νε¬',31).ACTION_NAME); } }else{switch($ΗαθG['ωνσ§ί¦Νε¬'][32]($σΫυΐΗΐΗ¤½)){case Ηαθgs('ωνσ§ί¦Νε¬',33) : case Ηαθgs('ωνσ§ί¦Νε¬',34) : case Ηαθgs('ωνσ§ί¦Νε¬',35) : case Ηαθgs('ωνσ§ί¦Νε¬',36) : case Ηαθgs('ωνσ§ί¦Νε¬',37) : return $ΗαθG['ωνσ§ί¦Νε¬'][32]($_SERVER['REQUEST_METHOD']) == $ΗαθG['ωνσ§ί¦Νε¬'][32]($ΗαθG['ωνσ§ί¦Νε¬'][38]($σΫυΐΗΐΗ¤½,Ηαθgs('ωνσ§ί¦Νε¬',39))); case Ηαθgs('ωνσ§ί¦Νε¬',40) : $―ΉθννΓς=& $_GET;break; case Ηαθgs('ωνσ§ί¦Νε¬',41) : $―ΉθννΓς=& $_POST;break; case Ηαθgs('ωνσ§ί¦Νε¬',42) : $ΗαθG['ωνσ§ί¦Νε¬'][43]($ΗαθG['ωνσ§ί¦Νε¬'][44](Ηαθgs('ωνσ§ί¦Νε¬',45)), $―ΉθννΓς);break; case Ηαθgs('ωνσ§ί¦Νε¬',46) : switch($_SERVER['REQUEST_METHOD']){case Ηαθgs('ωνσ§ί¦Νε¬',47): $―ΉθννΓς=$_POST; break; case Ηαθgs('ωνσ§ί¦Νε¬',48): $ΗαθG['ωνσ§ί¦Νε¬'][43]($ΗαθG['ωνσ§ί¦Νε¬'][44](Ηαθgs('ωνσ§ί¦Νε¬',45)), $―ΉθννΓς); break; default: $―ΉθννΓς=$_GET; } break; case Ηαθgs('ωνσ§ί¦Νε¬',49) : $―ΉθννΓς=& $_REQUEST; break; case Ηαθgs('ωνσ§ί¦Νε¬',50) : $―ΉθννΓς=& $_SESSION; break; case Ηαθgs('ωνσ§ί¦Νε¬',51) : $―ΉθννΓς=& $_COOKIE; break; case Ηαθgs('ωνσ§ί¦Νε¬',52) : $―ΉθννΓς=& $_SERVER; break; case Ηαθgs('ωνσ§ί¦Νε¬',53) : $―ΉθννΓς=& $GLOBALS; break; default: $ΗαθG['ωνσ§ί¦Νε¬'][54](__CLASS__.Ηαθgs('ωνσ§ί¦Νε¬',55).$σΫυΐΗΐΗ¤½.Ηαθgs('ωνσ§ί¦Νε¬',56)); } if(!isset($©αβΓθβ[Ηαθgs('ωνσ§ί¦Νε¬',57)])){$ΑΝ¶=$―ΉθννΓς; }elseif(isset($―ΉθννΓς[$©αβΓθβ[Ηαθgs('ωνσ§ί¦Νε¬',57)]])){$ΑΝ¶=$―ΉθννΓς[$©αβΓθβ[Ηαθgs('ωνσ§ί¦Νε¬',57)]]; $ΈΝΧι»θ=isset($©αβΓθβ[Ηαθgs('ωνσ§ί¦Νε¬',58)])?$©αβΓθβ[Ηαθgs('ωνσ§ί¦Νε¬',58)]:$ΗαθG['ωνσ§ί¦Νε¬'][8](Ηαθgs('ωνσ§ί¦Νε¬',59)); if($ΈΝΧι»θ){$ΈΝΧι»θ=$ΗαθG['ωνσ§ί¦Νε¬'][60](Ηαθgs('ωνσ§ί¦Νε¬',61),$ΈΝΧι»θ); foreach($ΈΝΧι»θ as $—ρτ¶ή½¶){if($ΗαθG['ωνσ§ί¦Νε¬'][62]($—ρτ¶ή½¶)){$ΑΝ¶=$ΗαθG['ωνσ§ί¦Νε¬'][63]($ΑΝ¶)?$ΗαθG['ωνσ§ί¦Νε¬'][64]($—ρτ¶ή½¶,$ΑΝ¶):$—ρτ¶ή½¶($ΑΝ¶); } } } }else{$ΑΝ¶=isset($©αβΓθβ[Ηαθgs('ωνσ§ί¦Νε¬',39)])?$©αβΓθβ[Ηαθgs('ωνσ§ί¦Νε¬',39)]:NULL; } return $ΑΝ¶; } } private function dispatchJump($§Ω¦―—¥Ρ› ,$κχπ°Ξ¦=1,$±£Θ΅Εδ='',$—ωΤΔδαΨ²Τ=false){global $ΗαθG;$ΗαθG_ωνσ§ί¦Νε¬_65=$ΗαθG['ωνσ§ί¦Νε¬'][65];$ΗαθG_ωνσ§ί¦Νε¬_69=$ΗαθG['ωνσ§ί¦Νε¬'][69];$ΗαθG_ωνσ§ί¦Νε¬_71=$ΗαθG['ωνσ§ί¦Νε¬'][71];$ΗαθG_ωνσ§ί¦Νε¬_74=$ΗαθG['ωνσ§ί¦Νε¬'][74];$ΗαθG_ωνσ§ί¦Νε¬_4=$ΗαθG['ωνσ§ί¦Νε¬'][4];$this->tplConf('compile_check',true); $this->$ΗαθG_ωνσ§ί¦Νε¬_65(Ηαθgs('ωνσ§ί¦Νε¬',66),Ηαθgs('ωνσ§ί¦Νε¬',67)); if(Ηαθgs('ωνσ§ί¦Νε¬',68) === $—ωΤΔδαΨ²Τ || IS_AJAX){$ΑΝ¶=$ΗαθG['ωνσ§ί¦Νε¬'][63]($—ωΤΔδαΨ²Τ)?$—ωΤΔδαΨ²Τ:array(); $ΑΝ¶['info']=$§Ω¦―—¥Ρ› ; $ΑΝ¶['status']=$κχπ°Ξ¦; $ΑΝ¶['url']=$±£Θ΅Εδ; $this->$ΗαθG_ωνσ§ί¦Νε¬_69($ΑΝ¶); } if($ΗαθG['ωνσ§ί¦Νε¬'][70]($—ωΤΔδαΨ²Τ)){$―θσβ=$—ωΤΔδαΨ²Τ; $this->$ΗαθG_ωνσ§ί¦Νε¬_71(Ηαθgs('ωνσ§ί¦Νε¬',72),$—ωΤΔδαΨ²Τ); } if(!empty($±£Θ΅Εδ)) $this->$ΗαθG_ωνσ§ί¦Νε¬_71(Ηαθgs('ωνσ§ί¦Νε¬',73),$±£Θ΅Εδ); $ΗαθG_ωνσ§ί¦Νε¬_3=$ΗαθG['ωνσ§ί¦Νε¬'][3];if($this->$ΗαθG_ωνσ§ί¦Νε¬_3()->$ΗαθG_ωνσ§ί¦Νε¬_74(Ηαθgs('ωνσ§ί¦Νε¬',75))===null) $this->$ΗαθG_ωνσ§ί¦Νε¬_71(Ηαθgs('ωνσ§ί¦Νε¬',75),$κχπ°Ξ¦? Ηαθgs('ωνσ§ί¦Νε¬',76) : Ηαθgs('ωνσ§ί¦Νε¬',77)); $this->$ΗαθG_ωνσ§ί¦Νε¬_71(Ηαθgs('ωνσ§ί¦Νε¬',78),$κχπ°Ξ¦); if($κχπ°Ξ¦){$this->$ΗαθG_ωνσ§ί¦Νε¬_71(Ηαθgs('ωνσ§ί¦Νε¬',79),$§Ω¦―—¥Ρ› ); $ΗαθG_ωνσ§ί¦Νε¬_74=$ΗαθG['ωνσ§ί¦Νε¬'][74];if(!$this->$ΗαθG_ωνσ§ί¦Νε¬_74(Ηαθgs('ωνσ§ί¦Νε¬',72))) $this->$ΗαθG_ωνσ§ί¦Νε¬_71(Ηαθgs('ωνσ§ί¦Νε¬',72),Ηαθgs('ωνσ§ί¦Νε¬',80)); $ΗαθG_ωνσ§ί¦Νε¬_74=$ΗαθG['ωνσ§ί¦Νε¬'][74];if(!$this->$ΗαθG_ωνσ§ί¦Νε¬_74(Ηαθgs('ωνσ§ί¦Νε¬',73))) $this->$ΗαθG_ωνσ§ί¦Νε¬_71(Ηαθgs('ωνσ§ί¦Νε¬',73),$_SERVER["HTTP_REFERER"]); $this->$ΗαθG_ωνσ§ί¦Νε¬_4($ΗαθG['ωνσ§ί¦Νε¬'][8](Ηαθgs('ωνσ§ί¦Νε¬',81))); }else{$this->$ΗαθG_ωνσ§ί¦Νε¬_71(Ηαθgs('ωνσ§ί¦Νε¬',82),$§Ω¦―—¥Ρ› ); $ΗαθG_ωνσ§ί¦Νε¬_74=$ΗαθG['ωνσ§ί¦Νε¬'][74];if(!$this->$ΗαθG_ωνσ§ί¦Νε¬_74(Ηαθgs('ωνσ§ί¦Νε¬',72))) $this->$ΗαθG_ωνσ§ί¦Νε¬_71(Ηαθgs('ωνσ§ί¦Νε¬',72),Ηαθgs('ωνσ§ί¦Νε¬',83)); $ΗαθG_ωνσ§ί¦Νε¬_74=$ΗαθG['ωνσ§ί¦Νε¬'][74];if(!$this->$ΗαθG_ωνσ§ί¦Νε¬_74(Ηαθgs('ωνσ§ί¦Νε¬',73))) $this->$ΗαθG_ωνσ§ί¦Νε¬_71(Ηαθgs('ωνσ§ί¦Νε¬',73),Ηαθgs('ωνσ§ί¦Νε¬',84)); $this->$ΗαθG_ωνσ§ί¦Νε¬_4($ΗαθG['ωνσ§ί¦Νε¬'][8](Ηαθgs('ωνσ§ί¦Νε¬',85))); exit ; } } }