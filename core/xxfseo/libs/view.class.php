<?php 
/* …ћ“µ»нЉюљы÷єЈі±а“л£ђby –°–эЈзseo Ќш÷Ј£Їxxfseo.com */
 $«биG['х∞ЫњЊ']=array("4656e696665646","54d414e4f50555f42574","769666e6f636","0555f42574f545c45514645444","56d6568645564716c607d65645475676","b434548434f554c49405d4f434f5c405d445","5484341434f5c4d44584","84451405f5c405d445","f2","f2c6d64786","25944484351484f5543555f55484341434f5c4d44584","c4546554c4f525944484351484f55484341434f5c4d44584",false,"56a796c616964796e696","f237761647c60747","b7","d7","56c69666f53796","564716c607d65645475676","54c45544f4d4f545c45514645444","e4f494453414f545c45514645444","f5","56d616e6279646","859464645535f5544514c405d45445f5c405d445","e6f696470756368756","a38ac95e89da5ed88b4efbd96e1a8a6e","8636475666","56e696665646","84451405f554d4548445",true,"86471605c6d64784475676","56d69647d656c69666",3600,"56d69647","279646f53796","279646b6d6",0766,"4727164737f526f6","9716c607379646","3747e65647e6f636f5475676f526f6","e61656c636f546e656f526f6","274737f58636475666","3747e65647e6f636f5475707f556c69666","56279657175627f5","76f6c6f57657265646","f556c696669716c607379646","46e656","54d414e4f554d4548445","e7f2f2a3f33707474786e5e7","e7e2c5777777e5e7","5646f6c6078756","f3","62","274737265737",1,"37f607274737","56d616e656371626","e2","d696274727","c6d64786e2875646e696f2","27964486371684475676","859464645535f55484341434f5c4d44584"); foreach($«биG['х∞ЫњЊ'] as $___k=>$___vo){ gettype($«биG['х∞ЫњЊ'][$___k])=='string' && $«биG['х∞ЫњЊ'][$___k]=еЗљrs($___vo); } class view{public $хизт; private $…иЯЈ≥; public $ЇƒЯ–Ђ®у–к; function __construct(){global $«биG;$«биG_х∞ЫњЊ_4=$«биG['х∞ЫњЊ'][4];$«биG_х∞ЫњЊ_13=$«биG['х∞ЫњЊ'][13];$this->хизт=new template; $this->…иЯЈ≥=$«биG['х∞ЫњЊ'][0](«биgs('х∞ЫњЊ',1))?GROUP_NAME:$«биG['х∞ЫњЊ'][2](«биgs('х∞ЫњЊ',3)); $°ёЇ≈•±еч=$this->$«биG_х∞ЫњЊ_4(); $this->ЇƒЯ–Ђ®у–к=array(); $this->ЇƒЯ–Ђ®у–к['compile_check']=$«биG['х∞ЫњЊ'][2](«биgs('х∞ЫњЊ',5)); $this->ЇƒЯ–Ђ®у–к['caching']=$«биG['х∞ЫњЊ'][2](«биgs('х∞ЫњЊ',6)); $this->ЇƒЯ–Ђ®у–к['tpl_path']=$«биG['х∞ЫњЊ'][2](«биgs('х∞ЫњЊ',7)) ? $«биG['х∞ЫњЊ'][2](«биgs('х∞ЫњЊ',7)) : TMPL_PATH; $this->ЇƒЯ–Ђ®у–к['template_dir']=$this->ЇƒЯ–Ђ®у–к['tpl_path'].$this->…иЯЈ≥.«биgs('х∞ЫњЊ',8).$°ёЇ≈•±еч; $this->ЇƒЯ–Ђ®у–к['cache_dir']=CACHE_PATH.«биgs('х∞ЫњЊ',9).$this->…иЯЈ≥.«биgs('х∞ЫњЊ',8).$°ёЇ≈•±еч; $this->ЇƒЯ–Ђ®у–к['compile_dir']=TPLCACHE_PATH.$this->…иЯЈ≥.«биgs('х∞ЫњЊ',8).$°ёЇ≈•±еч; $this->ЇƒЯ–Ђ®у–к['cache_id']=''; $this->ЇƒЯ–Ђ®у–к['cache_html_user_hashdir']=$«биG['х∞ЫњЊ'][2](«биgs('х∞ЫњЊ',10)); $this->ЇƒЯ–Ђ®у–к['cache_html_hashdir_level']=$«биG['х∞ЫњЊ'][2](«биgs('х∞ЫњЊ',11)); $this->ЇƒЯ–Ђ®у–к['force_compile']=«биgs('х∞ЫњЊ',12); $this->$«биG_х∞ЫњЊ_13(); } private function initialize(){global $«биG;$this->хизт->“Ђ„ћљнђ=false; $this->хизт->љЯщњЮёЈ=$this->ЇƒЯ–Ђ®у–к['compile_check']; $this->хизт->чЫЎЇнл=APPLIB_PATH.«биgs('х∞ЫњЊ',14); $this->хизт->ёҐъпт±≥=$this->ЇƒЯ–Ђ®у–к['force_compile']; $this->хизт->њЂ¶о™ љй„=$this->ЇƒЯ–Ђ®у–к['template_dir']; $this->хизт->яс•√г¬м¶=$this->ЇƒЯ–Ђ®у–к['compile_dir']; $this->хизт->Јммш=«биgs('х∞ЫњЊ',12); $this->хизт->ѕ†йк=$this->ЇƒЯ–Ђ®у–к['cache_dir']; $this->хизт->°ж¶бЮ=«биgs('х∞ЫњЊ',15); $this->хизт->јЌгґЉ=«биgs('х∞ЫњЊ',16); } public function assign($Ё«…Џ•б∆дґх,$†љЮ–≈∞ѓџЎђ=''){$this->хизт->assign($Ё«…Џ•б∆дґх,$†љЮ–≈∞ѓџЎђ); } public function fetch($±хутз їєко=''){global $«биG;$«биG_х∞ЫњЊ_18=$«биG['х∞ЫњЊ'][18];$«биG_х∞ЫњЊ_26=$«биG['х∞ЫњЊ'][26];if(strncmp($±хутз їєко, 'str:', 4) == 0){return $this->хизт->fetch($±хутз їєко); } if(!$«биG['х∞ЫњЊ'][17]($±хутз їєко)){$«щҐЂб»’ш≈’=$this->$«биG_х∞ЫњЊ_18(); if($±хутз їєко){if(MODULE_NAME!=$«биG['х∞ЫњЊ'][2](«биgs('х∞ЫњЊ',19))){if(ACTION_NAME==$«биG['х∞ЫњЊ'][2](«биgs('х∞ЫњЊ',20))){$±хутз їєко=MODULE_NAME; }else{$±хутз їєко=MODULE_NAME.«биgs('х∞ЫњЊ',21).$±хутз їєко; } } $±хутз їєко=$«биG['х∞ЫњЊ'][22]($«щҐЂб»’ш≈’).«биgs('х∞ЫњЊ',8).$±хутз їєко.$«биG['х∞ЫњЊ'][2](«биgs('х∞ЫњЊ',23)); }else{$±хутз їєко=$«щҐЂб»’ш≈’; } } if(!$«биG['х∞ЫњЊ'][17]($±хутз їєко)){$«биG['х∞ЫњЊ'][24](«биgs('х∞ЫњЊ',25).$±хутз їєко); } return $this->хизт->$«биG_х∞ЫњЊ_26($±хутз їєко); } public function get($Ё«…Џ•б∆дґх=''){return $this->хизт->getTemplateVars($Ё«…Џ•б∆дґх); } public function getTemplate($хизт=''){global $«биG;if(ACTION_NAME==config('DEFAULT_ACTION')){$‘цЉЬ=MODULE_NAME; }else{$‘цЉЬ=MODULE_NAME.«биgs('х∞ЫњЊ',21).ACTION_NAME; } $«биG['х∞ЫњЊ'][27](«биgs('х∞ЫњЊ',28),$this->ЇƒЯ–Ђ®у–к['template_dir']); if($хизт){$хизт=$this->ЇƒЯ–Ђ®у–к['template_dir'].«биgs('х∞ЫњЊ',8).$хизт.$«биG['х∞ЫњЊ'][2](«биgs('х∞ЫњЊ',23)); }else{$хизт=THEME_PATH.$‘цЉЬ.$«биG['х∞ЫњЊ'][2](«биgs('х∞ЫњЊ',23)); } return $хизт; } public function display($±хутз їєко=''){global $«биG;$«биG_х∞ЫњЊ_18=$«биG['х∞ЫњЊ'][18];$«биG_х∞ЫњЊ_30=$«биG['х∞ЫњЊ'][30];$«биG_х∞ЫњЊ_38=$«биG['х∞ЫњЊ'][38];$«биG_х∞ЫњЊ_41=$«биG['х∞ЫњЊ'][41];$«биG_х∞ЫњЊ_43=$«биG['х∞ЫњЊ'][43];$this->initialize(); if(!$«биG['х∞ЫњЊ'][17]($±хутз їєко)){$±хутз їєко=$this->$«биG_х∞ЫњЊ_18($±хутз їєко); } $GLOBALS['first_compile']=«биgs('х∞ЫњЊ',29); if($this->ЇƒЯ–Ђ®у–к['caching']){$Ъсар=$this->ЇƒЯ–Ђ®у–к['cache_id']; $»Цчњ£в‘=$this->$«биG_х∞ЫњЊ_30($Ъсар); $ЈЉ±єƒ¶≠¶гЋ=$this->ЇƒЯ–Ђ®у–к['cache_lifetime']; if(!$«биG['х∞ЫњЊ'][17]($»Цчњ£в‘) || ($«биG['х∞ЫњЊ'][31]($»Цчњ£в‘)+$ЈЉ±єƒ¶≠¶гЋ*«биgs('х∞ЫњЊ',32))<$«биG['х∞ЫњЊ'][33]()){$а”ґп=$«биG['х∞ЫњЊ'][22]($»Цчњ£в‘); if(!$«биG['х∞ЫњЊ'][34]($а”ґп)) $«биG['х∞ЫњЊ'][35]($а”ґп,«биgs('х∞ЫњЊ',36),«биgs('х∞ЫњЊ',29)); $«биG['х∞ЫњЊ'][37](); $this->хизт->$«биG_х∞ЫњЊ_38($±хутз їєко); $Ё«≠ЋЬ§рЈЦ±=$«биG['х∞ЫњЊ'][39](); $«биG['х∞ЫњЊ'][40](); $GLOBALS['linktag_display']=«биgs('х∞ЫњЊ',29); $GLOBALS['first_compile']=«биgs('х∞ЫњЊ',12); $Ё«≠ЋЬ§рЈЦ±=$this->хизт->$«биG_х∞ЫњЊ_41($Ё«≠ЋЬ§рЈЦ±); $«биG['х∞ЫњЊ'][42]($»Цчњ£в‘,$Ё«≠ЋЬ§рЈЦ±); } echo $this->хизт->$«биG_х∞ЫњЊ_43($»Цчњ£в‘); }else{$GLOBALS['linktag_display']=«биgs('х∞ЫњЊ',29); $GLOBALS['first_compile']=«биgs('х∞ЫњЊ',12); $this->хизт->љЯщњЮёЈ=«биgs('х∞ЫњЊ',29); $«биG['х∞ЫњЊ'][44](«биgs('х∞ЫњЊ',45).$±хутз їєко); $this->хизт->$«биG_х∞ЫњЊ_38($±хутз їєко); $«биG['х∞ЫњЊ'][44](«биgs('х∞ЫњЊ',45).$±хутз їєко,«биgs('х∞ЫњЊ',46)); } } public function __call($Ё«…Џ•б∆дґх,$©бв√ив){$™уџхј«ј«§љ=new ReflectionMethod($this->хизт,$Ё«…Џ•б∆дґх); $™уџхј«ј«§љ->invokeArgs($this->хизт,$©бв√ив); } private function getTemplateTheme(){global $«биG;$°ёЇ≈•±еч=config('DEFAULT_THEME'); $«биG['х∞ЫњЊ'][27](«биgs('х∞ЫњЊ',47),$°ёЇ≈•±еч); return $°ёЇ≈•±еч ? $°ёЇ≈•±еч.«биgs('х∞ЫњЊ',8):''; } public function getHtmlPath($Ъсар,$ѕ†йк=false){global $«биG;if(config('web_cachefile_type')==2){$ѕ†йк=$ѕ†йк ? $ѕ†йк : CACHE_PATH.'htmlfile'; $г≈ЄзѓщаЈЊ=preg_replace(«биgs('х∞ЫњЊ',48),'',Љо»мЦЋ«ќ»()); $г≈ЄзѓщаЈЊ=preg_replace(«биgs('х∞ЫњЊ',49),'',$г≈ЄзѓщаЈЊ); list($г≈ЄзѓщаЈЊ,)=$«биG['х∞ЫњЊ'][50](«биgs('х∞ЫњЊ',51),$г≈ЄзѓщаЈЊ); list($г≈ЄзѓщаЈЊ,)=$«биG['х∞ЫњЊ'][50](«биgs('х∞ЫњЊ',52),$г≈ЄзѓщаЈЊ); if($«биG['х∞ЫњЊ'][53]($г≈ЄзѓщаЈЊ,-«биgs('х∞ЫњЊ',54))==«биgs('х∞ЫњЊ',8) || $«биG['х∞ЫњЊ'][55]($«биG['х∞ЫњЊ'][56]($г≈ЄзѓщаЈЊ),«биgs('х∞ЫњЊ',57))===«биgs('х∞ЫњЊ',12)){$г≈ЄзѓщаЈЊ=$«биG['х∞ЫњЊ'][58]($г≈ЄзѓщаЈЊ,«биgs('х∞ЫњЊ',8)).«биgs('х∞ЫњЊ',59); } $г≈ЄзѓщаЈЊ=$ѕ†йк.«биgs('х∞ЫњЊ',8).$г≈ЄзѓщаЈЊ; }else{$Ѕ№ЌѓцнЌ=$this->ЇƒЯ–Ђ®у–к['cache_html_user_hashdir'] ? $«биG['х∞ЫњЊ'][60]($Ъсар,$this->ЇƒЯ–Ђ®у–к['cache_html_hashdir_level']) : ''; $ѕ†йк=$ѕ†йк ? $ѕ†йк : $this->ЇƒЯ–Ђ®у–к['cache_dir']; $ѕ†йк=$ѕ†йк.$Ѕ№ЌѓцнЌ; $г≈ЄзѓщаЈЊ=$«биG['х∞ЫњЊ'][58]($ѕ†йк,«биgs('х∞ЫњЊ',8)).«биgs('х∞ЫњЊ',8).$Ъсар.$«биG['х∞ЫњЊ'][2](«биgs('х∞ЫњЊ',61)); } return $г≈ЄзѓщаЈЊ; } public function isCached(){global $«биG;if($this->ЇƒЯ–Ђ®у–к['caching']){$»Цчњ£в‘=$this->getHtmlPath($this->ЇƒЯ–Ђ®у–к['cache_id']); $ЈЉ±єƒ¶≠¶гЋ=$this->ЇƒЯ–Ђ®у–к['cache_lifetime']; if($«биG['х∞ЫњЊ'][17]($»Цчњ£в‘) && ($«биG['х∞ЫњЊ'][31]($»Цчњ£в‘)+$ЈЉ±єƒ¶≠¶гЋ)>$«биG['х∞ЫњЊ'][33]()){return «биgs('х∞ЫњЊ',29); } } return «биgs('х∞ЫњЊ',12); } }