<?php 
/* ÉÌÒµÈí¼þ½ûÖ¹·´±àÒë£¬by Ð¡Ðý·çseo ÍøÖ·£ºxxfseo.com */
 $ÇáèG['ò¤ÍÆÍ¥ÎàÌ']=array("46564616f6c6f5e6f69637e656478756","3796465627","e6f696470756368756f577f6278647","379646562702a3591b5e9a986efa095e08cb5eaac96e","4737f686","769666e6f636","4535f484f53594445425","13e203e203e2732313","4727f607","4525f405f53594445425",6379,"4757f656d69647","4555f454d49445f55484341434f514451444",false,"4627f67737371607","47e65647379637275607","54d49445f55484341434f514451444","859464542505f55484341434f514451444",0,"473656e6e6f63607","473656e6e6f636","9716272716","56a796c61696275637e657","56a796c61696275637","47e696f53796","475637","5657565717"); foreach($ÇáèG['ò¤ÍÆÍ¥ÎàÌ'] as $___k=>$___vo){ gettype($ÇáèG['ò¤ÍÆÍ¥ÎàÌ'][$___k])=='string' && $ÇáèG['ò¤ÍÆÍ¥ÎàÌ'][$___k]=å‡½rs($___vo); } class cacheRedis extends cache{public function __construct($ºÄŸÐ«¨óÐê=array()){global $ÇáèG;if ( !$ÇáèG['ò¤ÍÆÍ¥ÎàÌ'][0](Çáègs('ò¤ÍÆÍ¥ÎàÌ',1)) ){$ÇáèG['ò¤ÍÆÍ¥ÎàÌ'][2](Çáègs('ò¤ÍÆÍ¥ÎàÌ',3)); } if(empty($ºÄŸÐ«¨óÐê)){$ºÄŸÐ«¨óÐê=array( 'host'=>$ÇáèG['ò¤ÍÆÍ¥ÎàÌ'][5](Çáègs('ò¤ÍÆÍ¥ÎàÌ',6)) ? $ÇáèG['ò¤ÍÆÍ¥ÎàÌ'][5](Çáègs('ò¤ÍÆÍ¥ÎàÌ',6)) : Çáègs('ò¤ÍÆÍ¥ÎàÌ',7), 'port'=>$ÇáèG['ò¤ÍÆÍ¥ÎàÌ'][5](Çáègs('ò¤ÍÆÍ¥ÎàÌ',9)) ? $ÇáèG['ò¤ÍÆÍ¥ÎàÌ'][5](Çáègs('ò¤ÍÆÍ¥ÎàÌ',9)) : Çáègs('ò¤ÍÆÍ¥ÎàÌ',10), 'timeout'=>$ÇáèG['ò¤ÍÆÍ¥ÎàÌ'][5](Çáègs('ò¤ÍÆÍ¥ÎàÌ',12)) ? $ÇáèG['ò¤ÍÆÍ¥ÎàÌ'][5](Çáègs('ò¤ÍÆÍ¥ÎàÌ',12)) : Çáègs('ò¤ÍÆÍ¥ÎàÌ',13), 'password'=>Çáègs('ò¤ÍÆÍ¥ÎàÌ',13), 'persistent'=>Çáègs('ò¤ÍÆÍ¥ÎàÌ',13), ); } $this->ºÄŸÐ«¨óÐê=$ºÄŸÐ«¨óÐê; $this->ºÄŸÐ«¨óÐê['expire']=isset($ºÄŸÐ«¨óÐê['expire'])? $ºÄŸÐ«¨óÐê['expire'] : $ÇáèG['ò¤ÍÆÍ¥ÎàÌ'][5](Çáègs('ò¤ÍÆÍ¥ÎàÌ',16)); $this->ºÄŸÐ«¨óÐê['prefix']=isset($ºÄŸÐ«¨óÐê['prefix'])? $ºÄŸÐ«¨óÐê['prefix'] : $ÇáèG['ò¤ÍÆÍ¥ÎàÌ'][5](Çáègs('ò¤ÍÆÍ¥ÎàÌ',17)); $this->ºÄŸÐ«¨óÐê['length']=isset($ºÄŸÐ«¨óÐê['length'])? $ºÄŸÐ«¨óÐê['length'] : Çáègs('ò¤ÍÆÍ¥ÎàÌ',18); $ÄÑß¨¿±˜­=$ºÄŸÐ«¨óÐê['persistent'] ? Çáègs('ò¤ÍÆÍ¥ÎàÌ',19) : Çáègs('ò¤ÍÆÍ¥ÎàÌ',20); $this->£ÐÄÈÜ=new Redis; if($ºÄŸÐ«¨óÐê['timeout']===Çáègs('ò¤ÍÆÍ¥ÎàÌ',13)){$this->£ÐÄÈÜ->$ÄÑß¨¿±˜­($ºÄŸÐ«¨óÐê['host'], $ºÄŸÐ«¨óÐê['port']); }else{$this->£ÐÄÈÜ->$ÄÑß¨¿±˜­($ºÄŸÐ«¨óÐê['host'], $ºÄŸÐ«¨óÐê['port'], $ºÄŸÐ«¨óÐê['timeout']); } if($this->ºÄŸÐ«¨óÐê['password']!==Çáègs('ò¤ÍÆÍ¥ÎàÌ',13)){$this->£ÐÄÈÜ->auth($this->ºÄŸÐ«¨óÐê['password']); } } public function get($ÝÇÉÚ¥áÆä¶õ){global $ÇáèG;$ÃêÁÄ¼Ñ™¯¢¯=$this->£ÐÄÈÜ->get($this->ºÄŸÐ«¨óÐê['prefix'].$ÝÇÉÚ¥áÆä¶õ); if($this->ºÄŸÐ«¨óÐê['type']==Çáègs('ò¤ÍÆÍ¥ÎàÌ',21)) $ÃêÁÄ¼Ñ™¯¢¯=$ÇáèG['ò¤ÍÆÍ¥ÎàÌ'][22]($ÃêÁÄ¼Ñ™¯¢¯); return $ÃêÁÄ¼Ñ™¯¢¯; } public function option($ÝÇÉÚ¥áÆä¶õ,$ ½žÐÅ°¯ÛØ¬='*xxfseo*'){if($ ½žÐÅ°¯ÛØ¬!='*xxfseo*'){$this->ºÄŸÐ«¨óÐê[$ÝÇÉÚ¥áÆä¶õ]=$ ½žÐÅ°¯ÛØ¬; }else{return $this->ºÄŸÐ«¨óÐê[$ÝÇÉÚ¥áÆä¶õ]; } } public function set($ÝÇÉÚ¥áÆä¶õ, $ ½žÐÅ°¯ÛØ¬, $¥åìßŸÉ¨=null){global $ÇáèG;$ÇáèG_ò¤ÍÆÍ¥ÎàÌ_25=$ÇáèG['ò¤ÍÆÍ¥ÎàÌ'][25];$ÇáèG_ò¤ÍÆÍ¥ÎàÌ_26=$ÇáèG['ò¤ÍÆÍ¥ÎàÌ'][26];if(is_null($¥åìßŸÉ¨)){$¥åìßŸÉ¨=$this->ºÄŸÐ«¨óÐê['expire']; } if($this->ºÄŸÐ«¨óÐê['type']==Çáègs('ò¤ÍÆÍ¥ÎàÌ',21)) $ ½žÐÅ°¯ÛØ¬=$ÇáèG['ò¤ÍÆÍ¥ÎàÌ'][23]($ ½žÐÅ°¯ÛØ¬); $ÝÇÉÚ¥áÆä¶õ=$this->ºÄŸÐ«¨óÐê['prefix'].$ÝÇÉÚ¥áÆä¶õ; if($ÇáèG['ò¤ÍÆÍ¥ÎàÌ'][24]($¥åìßŸÉ¨)){$¡öŸÁ›Öœ=$this->£ÐÄÈÜ->setex($ÝÇÉÚ¥áÆä¶õ, $¥åìßŸÉ¨, $ ½žÐÅ°¯ÛØ¬); }else{$¡öŸÁ›Öœ=$this->£ÐÄÈÜ->$ÇáèG_ò¤ÍÆÍ¥ÎàÌ_25($ÝÇÉÚ¥áÆä¶õ, $ ½žÐÅ°¯ÛØ¬); } if($¡öŸÁ›Öœ && $this->ºÄŸÐ«¨óÐê['length']>Çáègs('ò¤ÍÆÍ¥ÎàÌ',18)){$this->$ÇáèG_ò¤ÍÆÍ¥ÎàÌ_26($ÝÇÉÚ¥áÆä¶õ); } return $¡öŸÁ›Öœ; } public function rm($ÝÇÉÚ¥áÆä¶õ){return $this->£ÐÄÈÜ->delete($this->ºÄŸÐ«¨óÐê['prefix'].$ÝÇÉÚ¥áÆä¶õ); } public function clear(){return $this->£ÐÄÈÜ->flushDB(); } }